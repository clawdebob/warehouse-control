# Запросы на сервер
В данном файле описаны возможные типы запросов на сервер. Данные отправляются в виде JSON объектов соответствующих структуре сущности, с которой мы работаем.
## Список реализованных запросов

Запрос | Метод | Результат |
------ | ----- | --------- |
/products | GET | Выводит список всех товаров
/persons | GET | Выводит список поставщиков и потребителей
/add/product | POST | Добавляет товар в таблицу
/add/person | POST | Добавляет клиента/поставщика в таблицу
/delete/product | DELETE | Удаляет товар из таблицы
/delete/person | DELETE | Удаляет клиента/поставщика из таблицы
/edit/product | POST | Изменяет заданные параметры товара
/edit/person | POST | Изменяет заданные параметры клиента/поставщика
/filter/product | GET | Фильтрует и сортирует товары
/filter/person | GET | Фильтрует и сортирует поставщиков и потребителей

## Структуры JSON

#### Товары
_Примечание: "Поле serial неизменяемо, его присваивает сервер на этапе добавления"_
``` json
{
    "serial": "Штрих-код (строка)",
    "name": "Название товара (строка)",
    "company": "Производитель (строка)",
    "place": "Номер шкафа (число)",
    "row": "Номер ряда (число)",
    "column": "Номер места в ряду (число)"
}
```
#### Поставщики/Потребители
_Примечание: "Поле id неизменяемо, оно является автоинкрементом"_
``` json
{
    "id": "ID персоны (число)",
    "name": "Имя (строка)",
    "type": "Тип персоны (число): 0 - потребитель, 1 - поставщик",
    "address": "Адрес (строка)",
    "email": "Эл. почта (строка)",
    "phone": "Номер телефона (строка)"
}
```
## Примеры запросов
### Запрос на получение всех данных из таблицы
_Пример с таблицей "Goods"_

Запрос выводит список всех продуктов
```json
url: "/products"
method: "GET",
```
### Запрос на добавление
_Пример с таблицей "Goods"_

Запрос добавляет товар в таблицу. Все представленные поля обязательны для заполнения.
```json
url: "/add/product"
method: "GET",
data: {
    "name": "Бананы",
    "company": "Кубинские фрукты",
    "place": 1,
    "row": 4,
    "column": 5
}
```

### Запрос на удаление
_Пример с таблицей "Goods"_

Запрос удаляет товар из таблицы с заданным serial. Товар удаляется только по полю serial.
```json
url: "/delete/product"
method: "DELETE",
data: {
    "serial": "cc80cf03"
}
```

### Запрос на редактирование
_Пример с таблицей "Goods"_

Запрос изменяет указанные параметры (name, company, row) товара с заданным serial. Товар изменяется только по полю serial.
```json
url: "/edit/product"
method: "POST",
data: {
    "serial": "cc80cf03",
    "name": "Новое имя",
    "company": "Другая компания",
    "row": 10
}
```

### Запрос на фильтрацию
_Пример с таблицей "Goods"_

Запрос выдает товары по заданным параметрам (name, column, row) и сортирует их по имени в обратном порядке(Задается в заголовке sort).
Для фильтрации можно использовать все поля. По умолчанию сортировка происходит по алфавиту,
но можно и отсортировать в обратном порядке передав в заголовок sort параметр "desc".
```json
url: "/filter/product"
method: "POST",
headers: "sort: desc"
data: {
    "name": "Надувной",
    "column": 1,
    "row": 1
}
```
